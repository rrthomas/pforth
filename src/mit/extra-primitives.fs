\ (c) Reuben Thomas 2018-2019
\
\ The package is distributed under the GNU GPL version 3, or, at your
\ option, any later version.
\
\ THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€™S
\ RISK.

CR .( Extra primitives )

ALSO ASSEMBLER


\ Stack primitives

1 2 PRIMITIVE DUP
MLIT_0 MDUP
END-PRIMITIVE

2 3 PRIMITIVE OVER
MLIT_1 MDUP
END-PRIMITIVE

3 3 PRIMITIVE ROT
MLIT_0 MSWAP
MLIT_1 MSWAP
END-PRIMITIVE

3 3 PRIMITIVE -ROT
MLIT_1 MSWAP
MLIT_0 MSWAP
END-PRIMITIVE


\ Arithmetic and logical primitives

2 1 PRIMITIVE -
MNEGATE MADD
END-PRIMITIVE

1 1 PRIMITIVE 1+
MNOT
MNEGATE
END-PRIMITIVE

1 1 PRIMITIVE 1-
MNEGATE
MNOT
END-PRIMITIVE

0 1 PRIMITIVE 0
MLIT_0
END-PRIMITIVE

0 1 PRIMITIVE 1
MLIT_1
END-PRIMITIVE


\ System primitives

0 0 PRIMITIVE BYE
MHALT
END-PRIMITIVE


PREVIOUS
